import{_ as C,s as b,af as D,r as g,o as a,c as T,w as p,a as d,e as _,b as t,B as o,ar as l,F as w,aA as R,t as n,f as r,p as E,g as N}from"./index.fb0eb9d8.js";import{V as P,a as I}from"./VCard.9c67fd25.js";import{V as B}from"./VToolbar.aa37bc45.js";import{V as y}from"./VCol.7fa3660d.js";import{V as G}from"./VSelect.31e6a3b2.js";import{a as F,V as L}from"./VTextField.a268fa98.js";import"./VAvatar.54e91e63.js";import"./color.df92452d.js";import"./index.4246e81a.js";import"./VList.3781a667.js";import"./VDivider.4b7a8e17.js";import"./group.c2677aa6.js";const M="/assets/jortiz.a8e2ca94.png";const m=h=>(E("data-v-cb543178"),h=h(),N(),h),q=m(()=>t("div",{class:"row pa-4 pt-6"},[t("div",{class:"col-md-6"},[t("img",{src:M,alt:"",style:{width:"110px"}})])],-1)),U={class:"row"},W={class:"row"},j=["loading"],z={class:"col-12"},A={class:"row"},Q={class:"table table-responsive"},H={key:0,class:"table table-bordered"},J=m(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left"},"Segunda"),t("th",{class:"text-left"},"Ter\xE7a"),t("th",{class:"text-left"},"Quarta"),t("th",{class:"text-left"},"Quinta"),t("th",{class:"text-left"},"Sexta"),t("th",{class:"text-left"},"S\xE1bado"),t("th",{class:"text-left"},"Domingo")])],-1)),K={class:"table-text",style:{width:"14%"}},O={key:0},X={class:"text-primary"},Y={class:"table-text",style:{width:"14%"}},Z={key:0},tt={class:"text-primary"},et={class:"table-text",style:{width:"14%"}},at={key:0},st={class:"text-primary"},ot={class:"table-text",style:{width:"14%"}},lt={key:0},nt={class:"text-primary"},rt={class:"table-text",style:{width:"14%"}},dt={key:0},pt={class:"text-primary"},it={class:"table-text",style:{width:"14%"}},_t={key:0},ct={class:"text-primary"},yt={class:"table-text",style:{width:"14%"}},ut={key:0},mt={class:"text-primary"},ht={key:0,class:"table-text"},bt={key:1,class:"table-text"},xt={key:2,class:"table-text"},ft={key:3,class:"table-text"},kt={key:4,class:"table-text"},gt={key:5,class:"table-text"},Tt={key:6,class:"table-text"},wt={class:"row"},Rt={key:0,class:"table app-report-additional table-striped table-bordered"},Ft=m(()=>t("thead",null,[t("tr",null,[t("th",{class:"table-text-head"},"Cliente"),t("th",{class:"table-text-head"},"Valor")])],-1)),Vt={key:0,class:"table-text"},vt={key:1,class:"table-text"},St=m(()=>t("td",{class:"table-text"},"Total",-1)),$t={key:0,class:"table-text"},Ct={key:1},Dt={class:"row"},Et={key:0,class:"table-text"},Nt={key:1},Pt={class:"row signature"},It=m(()=>t("span",null,"Assinatura:__________________________",-1)),Bt=m(()=>t("span",null,"Data:___/___/_____",-1)),Gt=["loading"],Lt={__name:"PaymentReport",setup(h){const f=b.employeeStore(),V=b.clientStore(),v=b.serviceStore(),s=b.paymentStore();D(()=>{Promise.all([f.loadEmployees(),V.loadClients(),v.loadServices()]).then(u=>{}).catch(u=>{})});const c=g({employeeName:void 0,startDate:void 0,endDate:void 0}),k=g({form:!1,isLoading:!1,dialog:!1});function S(){!c.employeeName||!c.startDate||!c.endDate?alert("Informe o colaborador, data de in\xEDcio e e fim."):s.searchPayments(this.input).then(u=>{console.log("Sucesso.. ",u)}).catch(u=>{console.log("Erro.. ",u)})}function $(){window.print()}return(u,i)=>(a(),T(P,{class:"mx-auto p-2 printable"},{default:p(()=>[d(B,{cards:"",dark:"",flat:""},{default:p(()=>[d(I,{class:"text-h6 font-weight-regular"},{default:p(()=>[_(" Controle de Pagamentos ")]),_:1})]),_:1}),q,t("div",U,[d(L,{ref:"form","lazy-validation":"",class:"col-12 pa-4 pt-6"},{default:p(()=>[t("div",W,[d(y,{cols:"4"},{default:p(()=>[d(G,{hint:"Colaborador quem receber\xE1 o pagamento.",items:o(f).nameEmployees,"item-title":"name","item-value":"id",label:"Colaborador","onUpdate:modelValue":i[0]||(i[0]=e=>c.employeeName=e.name),"persistent-hint":"","return-object":"","single-line":""},null,8,["hint","items"])]),_:1}),d(y,null,{default:p(()=>[d(F,{label:"In\xEDcio",type:"date",required:"",modelValue:c.startDate,"onUpdate:modelValue":i[1]||(i[1]=e=>c.startDate=e)},null,8,["modelValue"])]),_:1}),d(y,null,{default:p(()=>[d(F,{label:"Fim",type:"date",required:"",modelValue:c.endDate,"onUpdate:modelValue":i[2]||(i[2]=e=>c.endDate=e)},null,8,["modelValue"])]),_:1}),d(y,null,{default:p(()=>[t("button",{type:"button",class:"btn btn-primary no-print",loading:k.isLoading,onClick:i[3]||(i[3]=e=>S())},"Buscar",8,j)]),_:1})])]),_:1},512),t("div",z,[t("div",A,[t("div",Q,[o(s).hasReports?(a(),l("table",H,[J,t("tbody",null,[(a(!0),l(w,null,R(o(s).reports,(e,x)=>(a(),l("tr",{key:x},[t("td",K,[e.weekday==="Monday"?(a(),l("p",O,[_(n(e.client)+" ",1),t("span",X,"$"+n(e.employee_gains),1)])):r("",!0)]),t("td",Y,[e.weekday==="Tuesday"?(a(),l("p",Z,[_(n(e.client)+" ",1),t("span",tt,"$"+n(e.employee_gains),1)])):r("",!0)]),t("td",et,[e.weekday==="Wednesday"?(a(),l("p",at,[_(n(e.client)+" ",1),t("span",st,"$"+n(e.employee_gains),1)])):r("",!0)]),t("td",ot,[e.weekday==="Thursday"?(a(),l("p",lt,[_(n(e.client)+" ",1),t("span",nt,"$"+n(e.employee_gains),1)])):r("",!0)]),t("td",rt,[e.weekday==="Friday"?(a(),l("p",dt,[_(n(e.client)+" ",1),t("span",pt,"$"+n(e.employee_gains),1)])):r("",!0)]),t("td",it,[e.weekday==="Saturday"?(a(),l("p",_t,[_(n(e.client)+" ",1),t("span",ct,"$"+n(e.employee_gains),1)])):r("",!0)]),t("td",yt,[e.weekday==="Sunday"?(a(),l("p",ut,[_(n(e.client)+" ",1),t("span",mt,"$"+n(e.employee_gains),1)])):r("",!0)])]))),128))]),t("tfoot",null,[t("tr",null,[o(s).paymentReportTotalMonday?(a(),l("td",ht,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalMonday).toFixed(2)),1)])):r("",!0),o(s).paymentReportTotalTuesday?(a(),l("td",bt,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalTuesday).toFixed(2)),1)])):r("",!0),o(s).paymentReportTotalWednesday?(a(),l("td",xt,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalWednesday).toFixed(2)),1)])):r("",!0),o(s).paymentReportTotalThursday?(a(),l("td",ft,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalThursday).toFixed(2)),1)])):r("",!0),o(s).paymentReportTotalFriday?(a(),l("td",kt,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalFriday).toFixed(2)),1)])):r("",!0),o(s).paymentReportTotalSaturday?(a(),l("td",gt,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalSaturday).toFixed(2)),1)])):r("",!0),o(s).paymentReportTotalSunday?(a(),l("td",Tt,[t("p",null," $"+n(parseFloat(o(s).paymentReportTotalSunday).toFixed(2)),1)])):r("",!0)])])])):r("",!0)])]),t("div",wt,[o(s).paymentReportTipsEmployee>0?(a(),l("table",Rt,[Ft,t("tbody",null,[(a(!0),l(w,null,R(o(s).reports,(e,x)=>(a(),l("tr",{key:x},[e.employee_tips>0?(a(),l("td",Vt,n(e.client),1)):r("",!0),e.employee_tips>0?(a(),l("td",vt," $ "+n(e.employee_tips),1)):r("",!0)]))),128))]),t("tfoot",null,[t("tr",null,[St,o(s).reports?(a(),l("td",$t,[_(" $ "),t("span",null,n(o(s).paymentReportTipsEmployee),1)])):r("",!0)])])])):r("",!0),o(s).paymentReportTipsEmployee<=0?(a(),l("span",Ct," Nenhuma 'Tip' reportada. ")):r("",!0)]),t("div",Dt,[o(s).paymentReportGasEmployee>0?(a(),l("p",Et,[_(" Gasolina "),t("span",null,"$ "+n(o(s).paymentReportGasEmployee),1)])):r("",!0),!o(s).paymentReportGasEmployee<=0?(a(),l("p",Nt," Nenhum custo com gasolina reportado. ")):r("",!0)])])]),t("div",Pt,[o(s).paymentReportTotal?(a(),T(y,{key:0,cols:"3"},{default:p(()=>[t("span",null,"Recebido: $"+n(parseFloat(o(s).paymentReportTotal).toFixed(2)),1)]),_:1})):r("",!0),d(y,{cols:"4"},{default:p(()=>[It]),_:1}),d(y,{cols:"3"},{default:p(()=>[Bt]),_:1}),d(y,{cols:"2"},{default:p(()=>[t("button",{type:"button",class:"btn btn-primary no-print",loading:k.isLoading,onClick:i[4]||(i[4]=e=>$())},"Imprimir",8,Gt)]),_:1})])]),_:1}))}},Xt=C(Lt,[["__scopeId","data-v-cb543178"]]);export{Xt as default};
